<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>WordPuzzle</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">wordpuzzle-2.6.0: 9 letter word puzzle solver</span><ul class="links" id="page-menu"><li><a href="src/WordPuzzle.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>&#169; Frank Jung 2017-2021</td></tr><tr><th>License</th><td>GPL-3</td></tr><tr><th>Maintainer</th><td>frankhjung@linux.com</td></tr><tr><th>Stability</th><td>stable</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">WordPuzzle</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Supporting functions for solving letter word puzzles.</p><h2>Notes</h2><p>Is functions return a boolean:</p><pre>isXyz :: a -&gt; Bool</pre><p>Check functions return an <code><a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a></code>:</p><pre>checkXyz :: a -&gt; Either Error a</pre><p>TODO Update validation to return a List of errors:</p><pre>validateXyz :: a -&gt; Validation [Error] a</pre></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:WordPuzzle">WordPuzzle</a></li><li class="src short"><a href="#v:makeWordPuzzle">makeWordPuzzle</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="WordPuzzle.html#t:ValidationError" title="WordPuzzle">ValidationError</a> <a href="WordPuzzle.html#t:WordPuzzle" title="WordPuzzle">WordPuzzle</a></li><li class="src short"><a href="#v:checkSize">checkSize</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:checkLetters">checkLetters</a> :: <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:hasLetters">hasLetters</a> :: <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:hasLetters-39-">hasLetters'</a> :: <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:solve">solve</a> :: <a href="WordPuzzle.html#t:WordPuzzle" title="WordPuzzle">WordPuzzle</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:ValidationError">ValidationError</a><ul class="subs"><li>= <a href="#v:InvalidSize">InvalidSize</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li>| <a href="#v:InvalidLetters">InvalidLetters</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></li><li>| <a href="#v:UnexpectedValue">UnexpectedValue</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></li></ul></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WordPuzzle" class="def">WordPuzzle</a> <a href="src/WordPuzzle.html#WordPuzzle" class="link">Source</a> <a href="#t:WordPuzzle" class="selflink">#</a></p><div class="doc"><p>Represent parameters required for the puzzle.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:WordPuzzle">Instances</h4><details id="i:WordPuzzle" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WordPuzzle:Show:1"></span> <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="WordPuzzle.html#t:WordPuzzle" title="WordPuzzle">WordPuzzle</a></span> <a href="src/WordPuzzle.html#line-50" class="link">Source</a> <a href="#t:WordPuzzle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WordPuzzle:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="WordPuzzle.html">WordPuzzle</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="WordPuzzle.html#t:WordPuzzle" title="WordPuzzle">WordPuzzle</a> -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="WordPuzzle.html#t:WordPuzzle" title="WordPuzzle">WordPuzzle</a> -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="WordPuzzle.html#t:WordPuzzle" title="WordPuzzle">WordPuzzle</a>] -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:makeWordPuzzle" class="def">makeWordPuzzle</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="WordPuzzle.html#t:ValidationError" title="WordPuzzle">ValidationError</a> <a href="WordPuzzle.html#t:WordPuzzle" title="WordPuzzle">WordPuzzle</a> <a href="src/WordPuzzle.html#makeWordPuzzle" class="link">Source</a> <a href="#v:makeWordPuzzle" class="selflink">#</a></p><div class="doc"><p>Smart constructor for WordPuzzle.</p><p>TODO re-write using accumulative validation</p><p>One way to accumulate all validation errors into a list rather than
 failing on the first error found is to use a monad such as the Writer
 monad (mtl). Here's how the code could look using the Writer monad:</p><pre>import Control.Monad.Writer

makeWordPuzzle :: Int -&gt; String -&gt; FilePath -&gt; Writer [ValidationError] WordPuzzle
makeWordPuzzle s ls d = do
   when (not (isSize s)) $ tell [InvalidSize s]
   when (not (isLetters ls)) $ tell [InvalidLetters ls]
   return (WordPuzzle s (head ls) ls d)
</pre><p>Now, when calling the function, you can extract the result and the
 accumulated errors using runWriter:</p><pre>result :: (WordPuzzle, [ValidationError])
result = runWriter (makeWordPuzzle size letters filePath)
</pre><p>Note that if there are no validation errors, the list of errors will be
 empty. You can then check the list of errors to determine if the result
 is valid or not.</p><p>See <a href="https://github.com/system-f/validation/blob/master/examples/src/Email.hs">https://github.com/system-f/validation/blob/master/examples/src/Email.hs</a></p></div></div><div class="top"><p class="src"><a id="v:checkSize" class="def">checkSize</a> <a href="src/WordPuzzle.html#checkSize" class="link">Source</a> <a href="#v:checkSize" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>size of word to check</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Left unexpected size or Right size</p></td></tr></table></div><div class="doc"><p>Check that mandatory value is in the range from 1 to 9.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>checkSize 10
</code></strong>Left (InvalidSize 10)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>checkSize 1
</code></strong>Right 1
</pre></div></div><div class="top"><p class="src"><a id="v:checkLetters" class="def">checkLetters</a> <a href="src/WordPuzzle.html#checkLetters" class="link">Source</a> <a href="#v:checkLetters" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>characters to check</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>valid lowercase letters</p></td></tr></table></div><div class="doc"><p>Check that letters are lowercase alphabetic characters.</p></div></div><div class="top"><p class="src"><a id="v:hasLetters" class="def">hasLetters</a> <a href="src/WordPuzzle.html#hasLetters" class="link">Source</a> <a href="#v:hasLetters" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>valid letters</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>dictionary word to check</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>true if dictionary word matches letters</p></td></tr></table></div><div class="doc"><p>Check if a word contains only characters from a letters list.</p><ul><li>If all valid characters are removed from the word, and there are still
 characters left over, then the word is not valid.</li><li>If all valid characters are removed from the word, and the word is
 empty, then the word is valid.</li></ul></div></div><div class="top"><p class="src"><a id="v:hasLetters-39-" class="def">hasLetters'</a> <a href="src/WordPuzzle.html#hasLetters%27" class="link">Source</a> <a href="#v:hasLetters-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>valid letters</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>dictionary word to check</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>true if dictionary word matches letters</p></td></tr></table></div><div class="doc"><p>Check if a word contains only characters from a letters list.</p><p>Original version using set difference.</p><ul><li>If all valid characters are removed from the word, and there are still
 characters left over, then the word is not valid.</li><li>If all valid characters are removed from the word, and the word is
 empty, then the word is valid.</li></ul></div></div><div class="top"><p class="src"><a id="v:solve" class="def">solve</a> :: <a href="WordPuzzle.html#t:WordPuzzle" title="WordPuzzle">WordPuzzle</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/WordPuzzle.html#solve" class="link">Source</a> <a href="#v:solve" class="selflink">#</a></p><div class="doc"><p>Solve word puzzle given a dictionary of words.</p><p>Where each word:</p><ul><li>must be greater than the minimum word length</li><li>must be no more than 9 characters long</li><li>must contain mandatory character</li><li>must contain only valid characters</li><li>must not exceed valid character frequency</li></ul></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ValidationError" class="def">ValidationError</a> <a href="src/WordPuzzle.html#ValidationError" class="link">Source</a> <a href="#t:ValidationError" class="selflink">#</a></p><div class="doc"><p>Error given on invalid parameter.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InvalidSize" class="def">InvalidSize</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>bad size integer</p></td></tr><tr><td class="src"><a id="v:InvalidLetters" class="def">InvalidLetters</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>bad letters</p></td></tr><tr><td class="src"><a id="v:UnexpectedValue" class="def">UnexpectedValue</a> <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>couldn't parse value</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ValidationError">Instances</h4><details id="i:ValidationError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ValidationError:Show:1"></span> <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="WordPuzzle.html#t:ValidationError" title="WordPuzzle">ValidationError</a></span> <a href="src/WordPuzzle.html#line-58" class="link">Source</a> <a href="#t:ValidationError" class="selflink">#</a></td><td class="doc"><p>Show <code><a href="WordPuzzle.html#t:ValidationError" title="WordPuzzle">ValidationError</a></code> as string.</p></td></tr><tr><td colspan="2"><details id="i:id:ValidationError:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="WordPuzzle.html">WordPuzzle</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="WordPuzzle.html#t:ValidationError" title="WordPuzzle">ValidationError</a> -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="WordPuzzle.html#t:ValidationError" title="WordPuzzle">ValidationError</a> -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="WordPuzzle.html#t:ValidationError" title="WordPuzzle">ValidationError</a>] -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>